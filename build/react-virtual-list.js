!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.VirtualList=e(require("react"),require("react-dom")):t.VirtualList=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(2)},function(t,e){"use strict";function i(t){var e;this.el=t;var i=function(){return e={top:r(t),height:t.clientHeight||t.innerHeight}};this.size=function(){return e||i()},this.getScrollTop=function(){var e=t.scrollTop;return"undefined"==typeof e&&(e=t.scrollY||t.pageYOffset),e},this.reset=function(){e=null}}function n(t,e,i){var n,o=this;this.el=t;var s=function(){return n={top:r(o.el),height:e.length*i}};this.size=function(){return n||s()},this.reset=function(){n=null}}function r(t){if(t===window)return 0;for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}Object.defineProperty(e,"__esModule",{value:!0}),e.Viewport=i,e.ContentBox=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),o=n(r),s=i(6),u=n(s),a=i(4),c=n(a),f=i(3),l=n(f),p=o["default"].createClass({displayName:"VerticalList",scrollDebounce:null,virtualState:null,propTypes:{itemHeight:o["default"].PropTypes.number.isRequired,itemFactory:o["default"].PropTypes.func.isRequired,items:o["default"].PropTypes.array,bufferSize:o["default"].PropTypes.number,viewport:o["default"].PropTypes.object,tagName:o["default"].PropTypes.string},getDefaultProps:function(){return{viewport:window,items:[],bufferSize:0,tagName:"ul"}},getInitialState:function(){return{contentHeight:0,topOffset:0,items:[]}},componentWillMount:function(){this.rafDebounce=(0,c["default"])(this.update)},componentDidMount:function(){this.initVirtualState(this.props),this.bindEvents(this.props),this.update()},componentWillUnmount:function(){this.unbindEvents(this.props)},shouldComponentUpdate:function(t,e){return this.state.contentHeight!==e.contentHeight?!0:this.state.items.length!==e.items.length?!0:this.state.topOffset!==e.topOffset},componentWillReceiveProps:function(t){this.initVirtualState(t),this.unbindEvents(t),this.bindEvents(t),this.update()},initVirtualState:function(t){this.virtualState=new l["default"](t.viewport,u["default"].findDOMNode(this),t.items,t.itemHeight,t.bufferSize)},bindEvents:function(t){t.viewport.addEventListener("scroll",this.handleScroll),t.viewport===window&&t.viewport.addEventListener("resize",this.handleResize)},unbindEvents:function(t){t.viewport.removeEventListener("scroll",this.handleScroll),t.viewport.removeEventListener("resize",this.handleResize)},update:function(t){t&&this.virtualState.reset(),this.setState(this.virtualState.calculate())},handleScroll:function(){this.rafDebounce.request()},handleResize:function(){this.virtualState.reset(),this.rafDebounce.request()},renderItems:function(){var t=this;return this.state.items.map(function(e){return t.props.itemFactory(e,t.props,t.state)})},render:function(){var t={boxSizing:"border-box",height:this.state.contentHeight+"px",paddingTop:this.state.topOffset+"px"};return o["default"].createElement(this.props.tagName,{style:t},this.renderItems())}});e["default"]=p},function(t,e,i){"use strict";function n(t,e,i,n,o){this.viewport=new r.Viewport(t),this.contentBox=new r.ContentBox(e,i,n);var s={contentHeight:0,topOffset:0,items:[]};this.calculate=function(){if(0>=n)return s;var t=this.viewport.size().top-this.contentBox.size().top+this.viewport.getScrollTop(),e=Math.min(this.viewport.size().height,this.viewport.size().height+t),r=Math.ceil(e/n)+1,u=Math.max(0,Math.floor(t/n)),a=u+r;return o&&(u=Math.max(0,u-o),a+=o),s.contentHeight=this.contentBox.size().height,s.topOffset=u*n,s.items=i.slice(u,a),s},this.reset=function(){this.viewport.reset(),this.contentBox.reset()}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1);e["default"]=n},function(t,e){"use strict";function i(t){var e=!1,i=function(){t(),e=!1};return{request:function(){e||(requestAnimationFrame(i),e=!0)}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i},function(e,i){e.exports=t},function(t,i){t.exports=e}])});
//# sourceMappingURL=react-virtual-list.js.map